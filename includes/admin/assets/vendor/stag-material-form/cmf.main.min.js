function cmf_G001(e){for(var n=$("input[type=radio][name="+e+"]"),c=0;c<n.length;c++)if(n.eq(c).prop("checked"))return n.eq(c).val()}function cmf_G002(e){for(var n=$("input[type=checkbox][name="+e+"]"),c="",t=0;t<n.length;t++)n.eq(t).prop("checked")&&(c=c?c+","+n.eq(t).val():n.eq(t).val());return c}function cmf_G003(){$("input:not(.selection-search)").on("change",function(){for(var e=0;e<cmf_2.length;e++){var n=cmf_2[e];try{var c=window[n]();c&&!0}catch(e){}}})}function cmf_0000_1(e){var n=e.which;return!!cmf_1.includes(n)&&(e.stopPropagation(),e.preventDefault(),n)}function cmf_0000_2(e,n,c=null){var t,a,o=cmf_0000_1(e);if(o){e.preventDefault(),n.hasClass("cmf-cr")?(t=n.find("input"),a=!1):(t=n.find("li"),a=!0);var s=parseInt(n.data("selection-pos"));if(isNaN(s)&&(s=0),13==o||32==o){if(a)return s>0&&s--,cmf_0000_4(t.eq(s)),!0;if(1==c.prop("checked")?c.prop("checked",!1):c.prop("checked",!0),"radio"==c.attr("type")){var r=$(".cmf-cr label");for(i=0;i<r.length;i++)0==r.eq(i).parent("div").children("input").prop("checked")&&r.eq(i).removeClass("checked")}return c}if(38==o?s--:40==o&&s++,1>s?s=1:s>t.length&&(s=t.length),n.data("selection-pos",s),a)return t.removeClass("selected"),t.eq(s-1).addClass("selected"),!0;var f=t.eq(s-1);return f.trigger("focus"),f}}function cmf_0000_3(){var e=$(".cmf-group");for(let n=0;n<e.length;n++)""==e.eq(n).children("input").val()?(null!=e.eq(n).children("input").attr("required")&&e.eq(n).hasClass("active")&&e.eq(n).addClass("warning"),e.eq(n).removeClass("active").children(".cmf-dropdown").removeClass("open")):e.hasClass("block-base")&&""==e.eq(n).find("input").val()?(null!=e.eq(n).find("input").attr("required")&&e.eq(n).hasClass("active")&&e.eq(n).addClass("warning"),e.eq(n).removeClass("active")):e.eq(n).children("textarea").length>0?""==e.eq(n).children("textarea").val()&&e.eq(n).removeClass("active"):e.eq(n).children(".cmf-dropdown").removeClass("open"),e.removeClass("focused");$(".cmf-cr label").removeClass("selected")}function cmf_0000_4(e){var n=e.parents(".cmf-group"),c=e.text();n.children("input").prop("readonly",!1).val(c).prop("readonly",!0),n.children(".cmf-dropdown").removeClass("open"),n.find("li").removeClass("selected"),n.find(".clear-selection").remove(),e.addClass("selected").append('<span class="clear-selection"><span></span></span>'),cmf_0000_5()}function cmf_0000_5(){$(".clear-selection").on("click",function(e){e.stopPropagation();var n=$(this).parents(".cmf-group");n.children("input").prop("readonly",!1).val("").prop("readonly",!0),$(this).parents(".cmf-dropdown").removeClass("open"),n.find("li").removeClass("selected"),$(this).remove()})}function cmf_0000_6(e,n){return n+="-csv",$("[name="+n+"]").length?n:(e.prepend(function(){return'<input type="text" name="'+n+'" class="d-none hidden"/>'}),n)}function cmf_0000_7(){var e=$(".cmf-group");for(let n=0;n<e.length;n++)""!=e.eq(n).find("input").val()&&e.eq(n).addClass("active")}function cmf_0001(){for(var e=$(".cmf-cr").find("input"),n=0;n<e.length;n++){var c=e.eq(n);"checked"==c.attr("checked")&&c.parent("div").find("label").addClass("selected checked")}}function cmf_0002(){var e=$(".cmf-group:not(.cmf-cr) input:not(.selection-search)");e.on("keydown",function(e){cmf_0000_1(e)}),e.on("click keyup",function(e){e.stopPropagation();cmf_0000_1(e);var n=$(this).parents(".cmf-group");cmf_0000_2(e,n)||(cmf_0000_3(),n.addClass(function(){return"active focused"}).children(".cmf-dropdown").css("opacity","0").addClass("open").animate({opacity:1},100,function(){$(this).children("input").trigger("focus").val(""),$(this).find("li").css("display","")}))})}function cmf_0003(){var e=$(".cmf-cr input");e.on("keydown",function(e){cmf_0000_1(e)}),e.on("click keyup",function(e){e.stopPropagation();var n=cmf_0000_1(e);if("click"==e.type||n||9==e.which){var c=$(this),t=c.parent("div"),i=$(this).parents(".cmf-group"),a=cmf_0000_2(e,c.parents(".cmf-cr"),c);a&&(t=a.parent("div")),cmf_0000_3();var o=t.children("label");if(t.find(".checkbox, .radio").addClass("animate").bind("webkitAnimationEnd oanimationend msAnimationEnd animationend",function(e){$(this).removeClass("animate")}),i.find("label").removeClass("selected"),o.addClass("selected"),13==n||32==n||"click"==e.type)"radio"==c.attr("type")&&i.find("label").removeClass("checked"),1==c.prop("checked")?o.addClass("checked"):o.removeClass("checked");else if(e.shiftKey&&9==e.which){var s=parseInt(i.data("selection-pos"));isNaN(s)&&(s=0),options=i.find("input"),s<1?s=1:s>options.length&&(s=options.length),s>1&&s<=options.length&&(s--,i.data("selection-pos",s))}else if(9==e.which){s=parseInt(i.data("selection-pos"));isNaN(s)&&(s=0),options=i.find("input"),s<0?s=0:s>options.length&&(s=options.length+1),s>=0&&s<options.length&&(s++,i.data("selection-pos",s))}}})}function cmf_0004(){var e=$(".cmf-dropdown, .cmf-dropdown > input");e.on("keydown",function(e){cmf_0000_1(e)}),e.on("click keyup",function(e){e.stopPropagation();cmf_0000_1(e);var n=$(this).parents(".cmf-group");cmf_0000_2(e,n)||null!=n.children("input").attr("required")&&n.removeClass("active").addClass("warning")}),$(".cmf-dropdown li").on("click",function(e){e.stopPropagation(),cmf_0000_4($(this))}),$(".selection-search").on("input",function(){var e=$(this).val(),n=$(this).parent(".cmf-dropdown").find("li");if(""==e)n.css("display","");else for(let i=0;i<n.length;i++){var c=n.eq(i).text(),t=new RegExp(e,"gi");null==c.match(t)?n.eq(i).css("display","none"):n.eq(i).css("display","")}})}function cmf_0005(){$(".cmf-group > textarea").on("click keyup",function(e){if(e.stopPropagation(),9==e.which||"click"==e.type){var n=$(this).parent(".cmf-group");cmf_0000_3(),n.addClass("active focused").removeClass("warning")}})}function cmf_0006(){$(".submit-button").on("click keyup",function(e){cmf_0000_3()})}function cmf_0007(){$(".cmf-ajax-submit").on("submit",function(e){e.preventDefault(),$.ajax({type:$(this).data("method"),url:$(this).data("action"),data:$("form").serialize(),success:function(){var e=$(this).data("success-function");try{e()}catch(e){}}})})}function cmf_0008(){$(".cmf-toggle-view").on("click",function(){$(this).hasClass("visible")?$(this).removeClass("visible").parents(".cmf-group").find("input").attr("type","password"):$(this).addClass("visible").parents(".cmf-group").find("input").attr("type","text")})}function cmf_0009(){for(var e=$(".cmf-cr[data-convert-csv]"),n=0;n<e.length;n++){var c=e.eq(n).find("input[type=checkbox]").eq(0),t=c.attr("name"),i=cmf_0000_6(e.eq(n),t),a=cmf_G002(t);$("[name="+i+"]").val(a)}}function cmf_init(){cmf_0001(),cmf_0002(),cmf_0003(),cmf_0004(),cmf_0005(),cmf_0006(),cmf_0007(),cmf_0008(),cmf_0009(),cmf_0000_7(),$(window).on("click",function(){cmf_0000_3()}),cmf_G003(),cmf_2.push("cmf_0009")}function cmf_run(e){cmf_2.push(e)}var cmf_1=[13,32,38,40],cmf_2=[];